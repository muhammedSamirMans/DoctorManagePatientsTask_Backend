{"ast":null,"code":"import { DatePipe } from '@angular/common';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/patientcrudservice.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nconst _c0 = function (a1) {\n  return [\"/doctor/\", a1, \"view\"];\n};\nconst _c1 = function (a1) {\n  return [\"/doctor/\", a1, \"edit\"];\n};\nfunction DoctorsComponent_tr_26_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtext(13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"td\");\n    i0.ɵɵtext(15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\", 7)(17, \"a\", 8);\n    i0.ɵɵtext(18, \"View\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"a\", 9);\n    i0.ɵɵtext(20, \"Edit\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(21, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function DoctorsComponent_tr_26_Template_button_click_21_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const patient_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.delete(patient_r1.id));\n    });\n    i0.ɵɵtext(22, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const patient_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.pasNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.forenames);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.surname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 9, patient_r1.dateOfBirth));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(patient_r1.sexCode);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(patient_r1.homeTelephoneNumber);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(11, _c0, patient_r1.id));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction1(13, _c1, patient_r1.id));\n  }\n}\nexport class DoctorsComponent {\n  /*------------------------------------------\r\n  --------------------------------------------\r\n  Created constructor\r\n  --------------------------------------------\r\n  --------------------------------------------*/\n  constructor(patientService) {\n    this.patientService = patientService;\n    this.patients = [];\n    this.page = 0;\n  }\n  /**\r\n   * Write code on Method\r\n   *\r\n   * @return response()\r\n   */\n  ngOnInit() {\n    this.getAllPatients();\n  }\n  getAllPatients() {\n    this.patientService.getAll().subscribe(data => {\n      this.patients = data.data.patients;\n      console.log(this.patients);\n    });\n  }\n  delete(id) {\n    Swal.fire({\n      title: 'Are you sure?',\n      text: 'This process is irreversible.',\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonText: 'Yes, remove it.',\n      cancelButtonText: 'No, let me think'\n    }).then(result => {\n      this.patientService.delete(id).subscribe(res => {\n        console.log(res);\n        if (res.status == 200) {\n          Swal.fire('Removed!', 'removed successfully.', 'success');\n          this.getAllPatients();\n        } else if (result.dismiss === Swal.DismissReason.cancel) {\n          Swal.fire('Cancelled', ' still in our database.', 'error');\n        }\n      });\n    });\n  }\n  gty(page) {\n    // this.GenericServiceService.getAllData(`https://api.instantwebtools.net/v1/passenger?page=${page}&size=${this.itemsPerPage}`).subscribe((data: any) => {\n    //   this.list =  data.data;\n    //   this.totalItems = data.totalItem;\n    // })\n  }\n}\nDoctorsComponent.ɵfac = function DoctorsComponent_Factory(t) {\n  return new (t || DoctorsComponent)(i0.ɵɵdirectiveInject(i1.PatientcrudserviceService));\n};\nDoctorsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: DoctorsComponent,\n  selectors: [[\"app-doctors\"]],\n  features: [i0.ɵɵProvidersFeature([DatePipe])],\n  decls: 27,\n  vars: 1,\n  consts: [[1, \"container\"], [\"href\", \"#\", \"routerLink\", \"/doctor/create\", 1, \"btn\", \"btn-success\"], [1, \"table-responsive\"], [1, \"table\", \"table-striped\", \"mt-4\"], [\"scope\", \"col\", 1, \"text-center\"], [\"width\", \"250px\"], [4, \"ngFor\", \"ngForOf\"], [1, \"d-flex\", \"gap-2\"], [\"href\", \"#\", 1, \"btn\", \"btn-info\", 3, \"routerLink\"], [\"href\", \"#\", 1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function DoctorsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\");\n      i0.ɵɵtext(2, \"Patients\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"a\", 1);\n      i0.ɵɵtext(4, \"Create New Patient\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 2)(6, \"table\", 3)(7, \"thead\")(8, \"tr\")(9, \"th\", 4);\n      i0.ɵɵtext(10, \"#\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"th\", 4);\n      i0.ɵɵtext(12, \"pasNumber\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"th\", 4);\n      i0.ɵɵtext(14, \"fore names\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(15, \"th\", 4);\n      i0.ɵɵtext(16, \"sur name\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"th\", 4);\n      i0.ɵɵtext(18, \"date Of Birth\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"th\", 4);\n      i0.ɵɵtext(20, \"sex Code\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"th\", 4);\n      i0.ɵɵtext(22, \"home TelephoneNumber\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"th\", 5);\n      i0.ɵɵtext(24, \"Action\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(25, \"tbody\");\n      i0.ɵɵtemplate(26, DoctorsComponent_tr_26_Template, 23, 15, \"tr\", 6);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(26);\n      i0.ɵɵproperty(\"ngForOf\", ctx.patients);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink, i2.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["DatePipe","Swal","i0","DoctorsComponent","constructor","patientService","ngOnInit","getAllPatients","getAll","subscribe","data","patients","console","log","delete","id","fire","title","text","icon","showCancelButton","confirmButtonText","cancelButtonText","then","result","res","status","dismiss","DismissReason","cancel","gty","page","selectors","features","decls","vars","consts","template"],"sourceRoot":"","sources":["G:\\Interviews\\DoctorManagePatientsTask\\test\\DoctorManagePatientsTask_Frontend\\src\\app\\doctor\\components\\doctors\\doctors.component.ts","G:\\Interviews\\DoctorManagePatientsTask\\test\\DoctorManagePatientsTask_Frontend\\src\\app\\doctor\\components\\doctors\\doctors.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { DatePipe } from '@angular/common';\nimport Swal from 'sweetalert2';\nimport { Patient } from '../../interfaces/patient';\nimport { PatientcrudserviceService } from '../../services/patientcrudservice.service';\ninterface PageEvent {\n  first: number;\n  rows: number;\n  page: number;\n  pageCount: number;\n}\n@Component({\n  selector: 'app-doctors',\n  templateUrl: './doctors.component.html',\n  styleUrls: ['./doctors.component.scss'],\n  providers:[DatePipe]\n\n})\nexport class DoctorsComponent {\n    patients: Patient[] = [];\n    page:number =0;\n    /*------------------------------------------\n    --------------------------------------------\n    Created constructor\n    --------------------------------------------\n    --------------------------------------------*/\n    constructor(public patientService: PatientcrudserviceService) { }\n\n    /**\n     * Write code on Method\n     *\n     * @return response()\n     */\n    ngOnInit(): void\n    {\n      this.getAllPatients();\n    }\n\n    getAllPatients(){\n      this.patientService.getAll().subscribe((data:any)=>\n      {\n        this.patients = data.data.patients;\n        console.log(this.patients);\n      });\n    }\n    delete(id?:number){\n\n      Swal.fire({\n        title: 'Are you sure?',\n        text: 'This process is irreversible.',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes, remove it.',\n        cancelButtonText: 'No, let me think'\n      }).then((result) => {\n        this.patientService.delete(id).subscribe((res:any) =>\n          {\n             console.log(res);\n              if (res.status == 200)\n              {\n                Swal.fire('Removed!', 'removed successfully.', 'success');\n              this.getAllPatients();\n              } else if (result.dismiss === Swal.DismissReason.cancel) {\n                Swal.fire('Cancelled', ' still in our database.', 'error');\n              }\n\n        }) ;\n\n      });\n\n    }\n    gty(page: any){\n      // this.GenericServiceService.getAllData(`https://api.instantwebtools.net/v1/passenger?page=${page}&size=${this.itemsPerPage}`).subscribe((data: any) => {\n      //   this.list =  data.data;\n      //   this.totalItems = data.totalItem;\n      // })\n    }\n\n  }\n\n","<div class=\"container\">\n  <h1>Patients</h1>\n\n  <a href=\"#\" routerLink=\"/doctor/create\" class=\"btn btn-success\">Create New Patient</a>\n    <div class=\"table-responsive\">\n\n\n  <table class=\"table table-striped mt-4\">\n      <thead>\n            <tr>\n              <th scope=\"col\" class=\"text-center\">#</th>\n              <th scope=\"col\" class=\"text-center\">pasNumber</th>\n              <th scope=\"col\" class=\"text-center\">fore names</th>\n              <th scope=\"col\" class=\"text-center\">sur name</th>\n              <th scope=\"col\" class=\"text-center\">date Of Birth</th>\n              <th scope=\"col\" class=\"text-center\">sex Code</th>\n              <th scope=\"col\" class=\"text-center\">home TelephoneNumber</th>\n              <th width=\"250px\">Action</th>\n            </tr>\n      </thead>\n      <tbody>\n            <tr *ngFor=\"let patient of patients\">\n              <td>{{ patient.id }}</td>\n              <td>{{patient.pasNumber}}</td>\n              <td>{{patient.forenames}}</td>\n              <td>{{patient.surname}}</td>\n              <td>{{patient.dateOfBirth | date}}</td>\n              <td>{{patient.sexCode}}</td>\n              <td>{{patient.homeTelephoneNumber}}</td>\n              <td class=\"d-flex gap-2\">\n                <a href=\"#\" [routerLink]=\"['/doctor/', patient.id, 'view']\" class=\"btn btn-info\">View</a>\n                <a href=\"#\" [routerLink]=\"['/doctor/', patient.id, 'edit']\" class=\"btn btn-primary\">Edit</a>\n                <button type=\"button\" (click)=\"delete(patient.id)\" class=\"btn btn-danger\">Delete</button>\n              </td>\n            </tr>\n      </tbody>\n  </table>\n  <!-- <pagination-controls\n  class=\"pagi\"\n  (pageChange)=\"gty((page = $event))\"\n></pagination-controls> -->\n</div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}